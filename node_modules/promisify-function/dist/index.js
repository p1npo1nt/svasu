'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = promisify;
function promisify(fn) {
  if (typeof fn !== 'function') {
    throw new Error('fn parameter must be a function');
  }
  return function () {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return new Promise(function (resolve, reject) {
      function callback(err) {
        if (err) {
          reject(err);
        } else {
          for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
            args[_key2 - 1] = arguments[_key2];
          }

          const data = args.length <= 1 ? args[0] : args;
          resolve(data);
        }
      }
      fn.apply(undefined, [].concat(args, [callback]));
    });
  };
}